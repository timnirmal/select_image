<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Photo Selector</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<div id="home" class="view">
		<div id="homeContent">
			<div class="home-header">
				<h2>Your Projects</h2>
				<p>Organize and manage your photo collections</p>
				<div class="home-actions">
					<div class="new-project-form">
						<input id="newProjectName" placeholder="Enter project name..." />
						<button id="addProjectBtn" class="primary">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M12 5v14M5 12h14"/>
							</svg>
							Create Project
						</button>
					</div>
				</div>
			</div>
			<div id="projectGrid" class="project-grid"></div>
		</div>
	</div>
	<div id="toolbar">
		<button id="openBtn" title="Open Folder (Ctrl+O)">
			<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
				<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
			</svg>
			<span class="btn-text">Open Folder</span>
		</button>
		<button id="galleryBtn" title="Gallery View (G)">
			<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
				<rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/>
			</svg>
			<span class="btn-text">Gallery</span>
		</button>
		<button id="viewerBtn" title="Viewer Mode (V)">
			<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
				<rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
			</svg>
			<span class="btn-text">Viewer</span>
		</button>
		<button id="projectsBtn" title="Projects (P)">
			<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
				<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
				<path d="M12 11v6"/><path d="m9 14 3-3 3 3"/>
			</svg>
			<span class="btn-text">Projects</span>
		</button>
		<div class="toolbar-separator"></div>
		<button id="saveBtn" title="Save CSV (Ctrl+S)">
			<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
				<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
				<polyline points="17,21 17,13 7,13 7,21"/><polyline points="7,3 7,8 15,8"/>
			</svg>
			<span class="btn-text">Save CSV</span>
		</button>
		<div class="toolbar-separator"></div>
		<select id="zoomSelect">
			<option value="fit">Fit</option>
			<option value="50">50%</option>
			<option value="100">100%</option>
			<option value="200">200%</option>
			<option value="400">400%</option>
		</select>
		<div id="zoomBar">
			<input id="zoomSlider" type="range" min="10" max="800" step="5" value="100">
			<span id="zoomLabel">100%</span>
		</div>
		<div id="gridBar">
			<label for="gridSlider">Grid</label>
			<input id="gridSlider" type="range" min="120" max="400" step="10" value="200">
		</div>
		<button id="settingsBtn" title="Settings">
			<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
				<circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6"/><path d="m21 12-6-3-6 3-6-3"/>
			</svg>
			<span class="btn-text">Settings</span>
		</button>
		<div class="toolbar-separator"></div>
		<div id="status"></div>
	</div>
	<!-- Toast Notifications Container -->
	<div id="toastContainer"></div>
	
	<!-- Settings Modal -->
	<div id="settingsModal" class="modal hidden">
		<div class="modal-content">
			<div class="modal-header">
				<h3>Settings</h3>
				<button id="closeSettings" class="modal-close">×</button>
			</div>
			<div class="modal-body">
				<div class="settings-grid">
					<div class="settings-section">
						<h4>Appearance</h4>
						<div class="setting-item">
							<label for="themeSelect">Theme</label>
							<select id="themeSelect">
								<option value="dark">Dark</option>
								<option value="light">Light</option>
								<option value="auto">Auto</option>
							</select>
						</div>
						<div class="setting-item">
							<label for="defaultThumbSize">Default Thumbnail Size</label>
							<input id="defaultThumbSize" type="range" min="120" max="400" step="20" value="200">
							<span id="thumbSizeLabel">200px</span>
						</div>
					</div>
					
					<div class="settings-section">
						<h4>Performance</h4>
						<div class="setting-item">
							<label for="autoSaveInterval">Auto-save Interval</label>
							<select id="autoSaveInterval">
								<option value="400">Immediate (400ms)</option>
								<option value="1000">Fast (1s)</option>
								<option value="3000">Normal (3s)</option>
								<option value="5000">Slow (5s)</option>
								<option value="0">Manual only</option>
							</select>
						</div>
						<div class="setting-item">
							<label for="maxThumbnailTasks">Max Concurrent Thumbnails</label>
							<select id="maxThumbnailTasks">
								<option value="4">4 (Conservative)</option>
								<option value="8">8 (Default)</option>
								<option value="12">12 (Fast)</option>
								<option value="16">16 (Aggressive)</option>
							</select>
						</div>
					</div>
					
					<div class="settings-section">
						<h4>Cache Management</h4>
						<div class="setting-item">
							<button id="clearThumbsBtn" class="danger">
								<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
									<path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c0 1 1 2 2 2v2"/>
								</svg>
								Clear Thumbnail Cache
							</button>
							<p class="setting-description">Remove all cached thumbnails to free up disk space</p>
						</div>
					</div>
					
					<div class="settings-section">
						<h4>Keyboard Shortcuts</h4>
						<div class="setting-item">
							<button id="showKeyboardHelp" class="ghost">
								<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
									<circle cx="12" cy="12" r="10"/><path d="M9,9h0a3,3,0,0,1,5.12-2.12A3,3,0,0,1,15,9c0,1-1,1.5-2.5,2S10,12.5,10,14"/><circle cx="12" cy="18" r=".5"/>
								</svg>
								View Keyboard Shortcuts
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Keyboard Help Overlay -->
	<div id="keyboardHelp" class="modal hidden">
		<div class="modal-content">
			<div class="modal-header">
				<h3>Keyboard Shortcuts</h3>
				<button id="closeKeyboardHelp" class="modal-close">×</button>
			</div>
			<div class="modal-body">
				<div class="shortcut-grid">
					<div class="shortcut-group">
						<h4>Navigation</h4>
						<div class="shortcut"><kbd>←</kbd><kbd>→</kbd><span>Navigate photos</span></div>
						<div class="shortcut"><kbd>G</kbd><span>Gallery view</span></div>
						<div class="shortcut"><kbd>V</kbd><span>Viewer mode</span></div>
						<div class="shortcut"><kbd>P</kbd><span>Projects</span></div>
						<div class="shortcut"><kbd>Enter</kbd><span>Open viewer from gallery</span></div>
						<div class="shortcut"><kbd>Esc</kbd><span>Back to gallery</span></div>
					</div>
					<div class="shortcut-group">
						<h4>Scoring</h4>
						<div class="shortcut"><kbd>Space</kbd><span>Like/Unlike (Score 5)</span></div>
						<div class="shortcut"><kbd>1</kbd><kbd>2</kbd><kbd>3</kbd><kbd>4</kbd><kbd>5</kbd><span>Set score</span></div>
						<div class="shortcut"><kbd>N</kbd><span>Reject (Score 0)</span></div>
					</div>
					<div class="shortcut-group">
						<h4>Viewer</h4>
						<div class="shortcut"><kbd>Z</kbd><span>Zoom in</span></div>
						<div class="shortcut"><kbd>X</kbd><span>Zoom out</span></div>
						<div class="shortcut"><kbd>Ctrl</kbd><kbd>Wheel</kbd><span>Zoom to cursor</span></div>
						<div class="shortcut"><kbd>Double-click</kbd><span>Reset zoom</span></div>
					</div>
					<div class="shortcut-group">
						<h4>File Operations</h4>
						<div class="shortcut"><kbd>Ctrl</kbd><kbd>O</kbd><span>Open folder</span></div>
						<div class="shortcut"><kbd>Ctrl</kbd><kbd>S</kbd><span>Save CSV</span></div>
						<div class="shortcut"><kbd>F11</kbd><span>Toggle fullscreen</span></div>
						<div class="shortcut"><kbd>?</kbd><span>Show this help</span></div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="gallery" class="view">
		<div id="grid"></div>
	</div>
	<div id="viewer" class="view hidden">
		<div id="viewerContainer">
			<img id="viewerImage" alt="viewer">
			<div id="viewerMeta"></div>
		</div>
	</div>
	<script src="renderer.js"></script>
</body>
</html>
